<!DOCTYPE html>
<html>
<head>
    <title>Test Page 4</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="nav">
        <h2>üîç WAA Test Suite</h2>
        <ul>
            <li><a href="index.html">üè† Home</a></li>
            <li><a href="page1.html">üìù Test Page 1</a></li>
            <li><a href="page2.html">üìã Test Page 2</a></li>
            <li><a href="page3.html">üìä Test Page 3</a></li>
            <li><a href="page4.html" aria-current="page">‚öôÔ∏è Test Page 4</a></li>
            <li><a href="page5.html">üöÄ Test Page 5</a></li>
            <li><a href="page6.html">üéØ Test Page 6</a></li>
        </ul>
    </div>
    
    <main id="main-content" class="content">
        <h1>Page 4: Interactive Elements & ARIA</h1>
        
        
        <section>
            <h2>Reference Implementation</h2>
            
            <h3>Modal Dialog</h3>
            <div class="test-note" style="background: #e8f5e8; border-left: 4px solid #4caf50; padding: 10px; margin: 10px 0;" role="region" aria-labelledby="accessible-modal-heading">
                <h4 id="accessible-modal-heading" style="margin: 0 0 8px 0;">Modal Example</h4>
                <p style="margin: 0;">Modal structure with focus management and ARIA</p>
            </div>
            <button type="button" onclick="openModal()" aria-describedby="modal-desc">
                Apply for Benefits
            </button>
            <div id="modal-desc">Opens a form to begin your benefits application</div>
            
            <div id="modal" role="dialog" aria-labelledby="modal-title" aria-modal="true" style="display: none;">
                <div role="document">
                    <h3 id="modal-title">Benefits Application</h3>
                    <p>Please complete the following form to begin your application.</p>
                    <button type="button" onclick="closeModal()" aria-label="Close dialog">√ó</button>
                    <form>
                        <label for="modal-name">Full Name</label>
                        <input type="text" id="modal-name" name="name" />
                        <button type="submit">Submit Application</button>
                        <button type="button" onclick="closeModal()">Cancel</button>
                    </form>
                </div>
            </div>
            
            <h3>Expandable Content</h3>
            <div class="test-note" style="background: #e8f5e8; border-left: 4px solid #4caf50; padding: 10px; margin: 10px 0;" role="region" aria-labelledby="accessible-expandable-heading">
                <h4 id="accessible-expandable-heading" style="margin: 0 0 8px 0;">Expandable Example</h4>
                <p style="margin: 0;">Expandable content with ARIA states</p>
            </div>
            <button type="button" aria-expanded="false" aria-controls="details-content" onclick="toggleDetails(this)">
                View Application Requirements
            </button>
            <div id="details-content" style="display: none;">
                <ul>
                    <li>Valid government-issued ID</li>
                    <li>Proof of income (last 3 months)</li>
                    <li>Social Security card</li>
                    <li>Proof of residence</li>
                </ul>
            </div>
            
            <h3>Custom Select</h3>
            <div class="custom-select">
                <label for="state-select">Select Your State</label>
                <div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="state-label" tabindex="0" id="state-select">
                    <span id="state-label">Choose a state</span>
                    <ul role="listbox" style="display: none;">
                        <li role="option" aria-selected="false" tabindex="-1">California</li>
                        <li role="option" aria-selected="false" tabindex="-1">Texas</li>
                        <li role="option" aria-selected="false" tabindex="-1">New York</li>
                    </ul>
                </div>
            </div>
            
            <h3>Live Region for Status Updates</h3>
            <button type="button" onclick="updateStatus()">Check Application Status</button>
            <div aria-live="polite" aria-atomic="true" id="status-region"></div>
        </section>
        
        
        <section style="border-top: 3px solid red; margin-top: 40px; padding-top: 20px;">
            <h2>Additional Examples </h2>
            
            <h3>Multiple ARIA and Interactive Elements</h3>
            <div class="test-note" style="background: #ffebee; border-left: 4px solid #f44336; padding: 10px; margin: 10px 0;" role="region" aria-labelledby="aria-section-heading">
                <h4 id="aria-section-heading" style="margin: 0 0 8px 0;">ARIA Implementation Examples</h4>
                <p style="margin: 0;">ARIA patterns and interactive elements</p>
                <p style="margin: 4px 0 0 0;">Interactive widgets with focus management</p>
            </div>
            
            <div onclick="showInfoModal()" style="color: blue; cursor: pointer;">Click for Info</div>
            <div id="info-modal" style="display: none; position: fixed; top: 50px; left: 50px; background: white; border: 1px solid black; padding: 20px; z-index: 1000;">
                <div>Important Information</div>
                <div onclick="hideInfoModal()" style="float: right; cursor: pointer;">X</div>
                <p>This modal has no proper focus management, ARIA attributes, or keyboard support</p>
                <input type="text" placeholder="Trapped input" />
            </div>
            
            
            <div role="button" aria-pressed="maybe" tabindex="0">Button state toggle</div>
            <div role="textbox" aria-required="yes" onclick="fakeTextbox()">This isn't actually a textbox</div>
            <div role="checkbox" aria-checked="undefined">Custom checkbox</div>
            <div role="slider" aria-valuemin="10" aria-valuemax="5">Range slider</div>
            
            
            <div role="progressbar">Loading progress</div>
            <div role="tab">Tab option</div>
            <div role="option">Selection option</div>
            
            
            <button role="link" onclick="doNothing()">Action button</button>
            <input type="checkbox" role="button" />
            <h1 role="button">Heading with button role</h1>
            
            
            <div onclick="doSomething()" style="cursor: pointer; color: blue; padding: 5px;">
                Interactive element
            </div>
            
            <div tabindex="10" onclick="primaryAction()">High priority interactive element</div>
            <div tabindex="0" onmousedown="primaryMouseAction()">Mouse functional element</div>
            
            
            <div aria-labelledby="related-label">Element with label reference</div>
            <div aria-describedby="related-description">Element with description reference</div>
            <div aria-controls="nowhere">Element controls nothing</div>
            <div aria-owns="phantom-child">Element owns non-existent child</div>
            
            
            <div class="fake-dropdown" onclick="toggleDropdown()" tabindex="0">
                Select Option ‚ñº
                <div id="dropdown-options" style="display: none; border: 1px solid #ccc;">
                    <div onclick="selectOption('a')" style="padding: 5px;">Option A</div>
                    <div onclick="selectOption('b')" style="padding: 5px;">Option B</div>
                    <div onclick="selectOption('c')" style="padding: 5px;">Option C</div>
                </div>
            </div>
            
            
            <div onclick="toggleContent()" style="cursor: pointer; color: blue;">
                Expandable Content
            </div>
            <div id="hidden-content" style="display: none;">
                <p>This content appears/disappears dynamically</p>
            </div>
            
            <form>
                <div role="group">
                    <div>Required field marker</div>
                    <input type="text" aria-invalid="yes" />
                    <div role="alert" style="display: none;">Hidden error message</div>
                </div>
                
                
                <label for="redundant-input" aria-label="Redundant label">Name</label>
                <input type="text" id="redundant-input" aria-label="Also redundant" />
                
                
                <div role="listbox">
                    <div role="button">Interactive element</div>
                    <div role="option">Valid option</div>
                </div>
            </form>
            
            
            <button type="button" onclick="silentUpdate()">Update Content Silently</button>
            <div id="silent-content">Original content</div>
            
            <button type="button" onclick="updateWithLiveRegion()">Update with Live Region</button>
            <div aria-live="aggressive" id="dynamic-live">Content updated dynamically</div>
            
            
            <div role="list">
                <div>List element</div>
                <div role="listitem">Valid listitem</div>
                <span role="listitem">Another listitem</span>
            </div>
            
            
            <div role="main">
                <div role="main">Main content area</div>
            </div>
            
            <nav aria-label="Navigation">
                <nav>Secondary navigation</nav>
            </nav>
        </section>
        
        <script>
            function openModal() {
                const modal = document.getElementById('modal');
                modal.style.display = 'block';
                modal.querySelector('input').focus();
                // Trap focus within modal
                document.addEventListener('keydown', trapFocus);
            }
            
            function closeModal() {
                document.getElementById('modal').style.display = 'none';
                document.querySelector('button[onclick="openModal()"]').focus();
                document.removeEventListener('keydown', trapFocus);
            }
            
            function trapFocus(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
                // Additional focus trapping logic would go here
            }
            
            function toggleDetails(button) {
                const content = document.getElementById('details-content');
                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                
                button.setAttribute('aria-expanded', !isExpanded);
                content.style.display = isExpanded ? 'none' : 'block';
            }
            
            function updateStatus() {
                const statusRegion = document.getElementById('status-region');
                statusRegion.textContent = 'Status updated: Application is being processed. You will receive email confirmation within 24 hours.';
            }
            
            // Functions for interactive components
            function showInfoModal() {
                document.getElementById('info-modal').style.display = 'block';
                // Focus management implementation
            }
            
            function hideInfoModal() {
                document.getElementById('info-modal').style.display = 'none';
                // Return focus implementation
            }
            
            function doSomething() {
                alert('Interactive element activated');
            }
            
            function primaryAction() {
                alert('Primary action triggered');
            }
            
            function fakeTextbox() {
                alert('Textbox interaction');
            }
            
            function primaryMouseAction() {
                alert('Mouse action performed');
            }
            
            function doNothing() {
                // Function implementation
            }
            
            function toggleDropdown() {
                const options = document.getElementById('dropdown-options');
                const isVisible = options.style.display !== 'none';
                options.style.display = isVisible ? 'none' : 'block';
                // State management implementation
            }
            
            function selectOption(value) {
                alert('Selected: ' + value + ' (but no proper state management)');
                document.getElementById('dropdown-options').style.display = 'none';
            }
            
            function toggleContent() {
                const content = document.getElementById('hidden-content');
                const isVisible = content.style.display !== 'none';
                content.style.display = isVisible ? 'none' : 'block';
                // No ARIA state indication
            }
            
            function silentUpdate() {
                document.getElementById('silent-content').textContent = 'Content changed without announcement to screen readers';
                // No live region announcement
            }
            
            function updateWithLiveRegion() {
                document.getElementById('dynamic-live').textContent = 'Updated content with live region';
                // Live region update implementation
            }
        </script>
    </div>
</body>
</html>
