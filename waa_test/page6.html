<!DOCTYPE html>
<html>
<head>
    <title>Test Page 6 - ARIA & Screen Reader Testing</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="nav">
        <h2>üîç WAA Test Suite</h2>
        <ul>
            <li><a href="index.html">üè† Home</a></li>
            <li><a href="page1.html">üìù Test Page 1</a></li>
            <li><a href="page2.html">üìã Test Page 2</a></li>
            <li><a href="page3.html">üìä Test Page 3</a></li>
            <li><a href="page4.html">‚öôÔ∏è Test Page 4</a></li>
            <li><a href="page5.html">üöÄ Test Page 5</a></li>
            <li><a href="page6.html" aria-current="page">üéØ Test Page 6</a></li>
        </ul>
    </div>
    
    <main id="main-content" class="content">
        <h1>Page 6: ARIA & Screen Reader Testing</h1>
        
        <section style="border-top: 3px solid orange; margin-top: 20px; padding-top: 20px;">
            <h2>üéØ Interactive Elements & ARIA Components</h2>
            <div class="test-note" style="background: #fff3e0; border-left: 4px solid #ff9800; padding: 10px; margin: 10px 0;">
                <strong>‚ö†Ô∏è INTERACTION REQUIRED:</strong> This page contains interactive elements that must be tested with user actions (clicks, keyboard navigation, focus changes) to detect all accessibility issues.
            </div>
            
            <h3>Button Controls</h3>
            
            <div role="button" aria-pressed="false" onclick="toggleButton(this)" id="inconsistent-state">
                Toggle Button
            </div>
            
            <button aria-expanded="false" aria-controls="fake-content" onclick="fakeToggle()">
                Expand Details
            </button>
            
            <div aria-live="polite" id="silent-live-region">
                Status updates appear here
            </div>
            <button onclick="silentUpdate()">Update Status</button>
            
            <nav aria-label="Pagination">
                <a href="#" aria-current="yes">Page 1</a>
                <a href="#" aria-current="active">Page 2</a>
                <a href="#" aria-current="true">Page 3</a>
            </nav>
            
            <h3>Form Elements</h3>
            
            <input type="password" aria-describedby="hidden-help" placeholder="Password" />
            <div id="hidden-help" style="display: none;">Password must be 8+ characters</div>
            
            <button aria-label="Cancel operation">Save Document</button>
            <button aria-label="Submit form">Delete Account</button>
            
            <div role="heading" aria-level="7">Important Notice</div>
            <div role="heading" aria-level="0">System Alert</div>
            <div role="heading" aria-level="cat">Error Message</div>
            
            <button aria-pressed="true" aria-checked="false">Mixed State Control</button>
            <input type="checkbox" aria-pressed="true" />
            
            <h3>Custom Components</h3>
            
            <div role="combobox" aria-expanded="false" aria-haspopup="listbox" tabindex="0">
                <span>Select Option</span>
                <ul role="listbox" style="display: none;">
                    <li role="option">Option 1</li>
                    <li role="option" aria-selected="true">Option 2</li>
                    <li role="option" aria-selected="true">Option 3</li>
                </ul>
            </div>
            
            <div role="tree" aria-labelledby="tree-label">
                <div id="tree-label">File Explorer</div>
                <div role="treeitem" aria-expanded="true" tabindex="0">
                    <span>Documents</span>
                    <div role="group">
                        <div role="treeitem" tabindex="-1">file1.txt</div>
                        <div role="treeitem" aria-expanded="false" tabindex="-1">
                            <span>Subfolder</span>
                            <div role="treeitem">nested-file.txt</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div role="grid" aria-labelledby="grid-label">
                <div id="grid-label">Data Grid</div>
                <div role="row">
                    <div role="columnheader" id="col1">Name</div>
                    <div role="columnheader" id="col2">Age</div>
                    <div role="columnheader" id="col3">City</div>
                </div>
                <div role="row">
                    <div role="gridcell" aria-describedby="col1">John</div>
                    <div role="gridcell" aria-labelledby="wrong-id">30</div>
                    <div role="gridcell">New York</div>
                </div>
            </div>
            
            <h3>Data Tables</h3>
            
            <fieldset>
                <legend>Credit Card Information</legend>
                <label for="cc-number">Card Number</label>
                <input type="text" id="cc-number" aria-label="Social Security Number" />
                
                <label for="cc-exp">Expiry Date</label>
                <input type="text" id="cc-exp" aria-describedby="birthday-help" />
                <div id="birthday-help">Enter your date of birth</div>
            </fieldset>
            
            <table role="presentation">
                <tr>
                    <th>Name</th>
                    <th>Department</th>
                </tr>
                <tr>
                    <td>John Smith</td>
                    <td>Engineering</td>
                </tr>
            </table>
            
            <div role="list" aria-label="Navigation Menu">
                <div role="listitem">
                    <a href="#" role="menuitem">Home</a>
                </div>
                <div role="listitem">
                    <button role="option">Services</button>
                </div>
                <span>Contact</span>
            </div>
            
            <h3>Interactive Content</h3>
            
            <button onclick="toggleHiddenContent()">Toggle Content</button>
            <div id="dynamic-content" style="display: none;" aria-hidden="false">
                This content appears and disappears
            </div>
            
            <button onclick="simulateBadLoading()" id="load-button">
                Start Process
            </button>
            <div id="loading-indicator" style="display: none;">
                Processing...
            </div>
            
            <button onclick="showBrokenModal()">Open Modal</button>
            <div id="broken-modal" role="dialog" aria-modal="true" style="display: none;">
                <h3>Important Notice</h3>
                <p>This modal contains important information</p>
                <input type="text" placeholder="Enter response" />
                <button onclick="hideBrokenModal()">Close</button>
            </div>
            
            <h3>Navigation Controls</h3>
            
            <div role="tablist" aria-label="Settings Tabs">
                <div role="tab" aria-selected="true" tabindex="0" id="tab1" aria-controls="panel1">
                    General
                </div>
                <div role="tab" aria-selected="false" tabindex="0" id="tab2" aria-controls="panel2">
                    Privacy
                </div>
                <div role="tab" aria-selected="false" tabindex="0" id="tab3" aria-controls="nonexistent">
                    Custom
                </div>
            </div>
            
            <div role="tabpanel" id="panel1" aria-labelledby="tab1">
                <p>General settings content</p>
            </div>
            <div role="tabpanel" id="panel2" aria-labelledby="tab2" hidden>
                <p>Privacy settings content</p>
            </div>
            
            <div class="custom-select">
                <button aria-haspopup="listbox" aria-expanded="false" id="custom-trigger">
                    Choose Option
                </button>
                <ul role="listbox" style="display: none;" aria-labelledby="custom-trigger">
                    <li role="option" tabindex="0">Option A</li>
                    <li role="option" tabindex="0">Option B</li>
                    <li role="option" tabindex="0">Option C</li>
                </ul>
            </div>
            
            <h3>Status Indicators</h3>
            
            <form>
                <label for="bad-email">Email Address</label>
                <input type="email" id="bad-email" />
                <div id="email-error" role="alert" style="display: none; color: red;">
                    Invalid email format
                </div>
                <button type="button" onclick="showErrorSilently()">Validate</button>
            </form>
            
            <div role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">
                <div style="width: 50%; height: 20px; background: blue;"></div>
            </div>
            <button onclick="updateProgressSilently()">Update Progress</button>
            
            <div aria-live="assertive" id="countdown-timer">
                Session expires in: <span id="timer">5:00</span>
            </div>
            <button onclick="startCountdown()">Start 5-Minute Timer</button>
            
            <input type="password" id="pwd-complex" />
            <div id="pwd-instructions" style="display: none;">
                Password must contain: uppercase, lowercase, number, special character
            </div>
            
        </section>
        
        <script>
            function toggleButton(button) {
                button.style.background = button.style.background === 'blue' ? '' : 'blue';
            }
            
            function fakeToggle() {
                const button = event.target;
                const expanded = button.getAttribute('aria-expanded') === 'true';
                button.setAttribute('aria-expanded', !expanded);
            }
            
            function silentUpdate() {
                const region = document.getElementById('silent-live-region');
                region.innerHTML = 'Content updated at ' + new Date().toLocaleTimeString();
            }
            
            function toggleHiddenContent() {
                const content = document.getElementById('dynamic-content');
                const isHidden = content.style.display === 'none';
                content.style.display = isHidden ? 'block' : 'none';
            }
            
            function simulateBadLoading() {
                const button = document.getElementById('load-button');
                const indicator = document.getElementById('loading-indicator');
                
                button.disabled = true;
                indicator.style.display = 'block';
                
                setTimeout(() => {
                    button.disabled = false;
                    indicator.style.display = 'none';
                }, 3000);
            }
            
            function showBrokenModal() {
                document.getElementById('broken-modal').style.display = 'block';
            }
            
            function hideBrokenModal() {
                document.getElementById('broken-modal').style.display = 'none';
            }
            
            function showErrorSilently() {
                const error = document.getElementById('email-error');
                error.style.display = 'block';
            }
            
            function updateProgressSilently() {
                const progress = document.querySelector('[role="progressbar"]');
                const current = parseInt(progress.getAttribute('aria-valuenow'));
                const newValue = Math.min(current + 10, 100);
                progress.setAttribute('aria-valuenow', newValue);
                progress.querySelector('div').style.width = newValue + '%';
            }
            
            let countdownInterval;
            function startCountdown() {
                let seconds = 300;
                const timer = document.getElementById('timer');
                
                countdownInterval = setInterval(() => {
                    seconds--;
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    timer.textContent = mins + ':' + (secs < 10 ? '0' : '') + secs;
                    
                    if (seconds <= 0) {
                        clearInterval(countdownInterval);
                        alert('Session expired!');
                    }
                }, 1000);
            }
            
            document.getElementById('pwd-complex').addEventListener('focus', () => {
                document.getElementById('pwd-instructions').style.display = 'block';
            });
            
            document.getElementById('pwd-complex').addEventListener('blur', () => {
                document.getElementById('pwd-instructions').style.display = 'none';
            });
        </script>
    </main>
</body>
</html>
